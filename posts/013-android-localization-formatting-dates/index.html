<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Localization - Formatting Dates on Android | Adam Ormsby</title><meta name=keywords content="android,localization,L10n,android l10n,android localization,android dateutils,android date format,android localization formatting dates"><meta name=description content="Hey everybody, let&rsquo;s talk localization! Today, I want to look at date formatting for Android applications. When you want to display a date in your app, you have to keep in mind that your customers in different locales will expect dates to look the way they&rsquo;re used to seeing them. But while there are a lot of date formatting options on Android, they aren&rsquo;t all robust enough to &lsquo;just work&rsquo; the way you need them to. I&rsquo;ll show you a how to get you exactly the format you want every time."><meta name=author content="Adam Ormsby"><link rel=canonical href=https://www.adamormsby.com/posts/013-android-localization-formatting-dates/><link crossorigin=anonymous href=/assets/css/stylesheet.198f03125e4b4594e4693d1d2dad2db811b7cc1485a74be39b473c9ba02319cc.css integrity="sha256-GY8DEl5LRZTkaT0dLa0tuBG3zBSFp0vjm0c8m6AjGcw=" rel="preload stylesheet" as=style><link rel=icon href=https://www.adamormsby.com/site-img/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://www.adamormsby.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.adamormsby.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.adamormsby.com/apple-touch-icon.png><link rel=mask-icon href=https://www.adamormsby.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://www.adamormsby.com/posts/013-android-localization-formatting-dates/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://www.adamormsby.com/posts/013-android-localization-formatting-dates/"><meta property="og:site_name" content="Adam Ormsby"><meta property="og:title" content="Localization - Formatting Dates on Android"><meta property="og:description" content="Hey everybody, let’s talk localization! Today, I want to look at date formatting for Android applications. When you want to display a date in your app, you have to keep in mind that your customers in different locales will expect dates to look the way they’re used to seeing them. But while there are a lot of date formatting options on Android, they aren’t all robust enough to ‘just work’ the way you need them to. I’ll show you a how to get you exactly the format you want every time."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-28T06:00:00-06:00"><meta property="article:modified_time" content="2022-03-28T06:00:00-06:00"><meta property="article:tag" content="Android"><meta property="article:tag" content="Localization"><meta property="og:image" content="https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover.jpg"><meta name=twitter:title content="Localization - Formatting Dates on Android"><meta name=twitter:description content="Hey everybody, let&rsquo;s talk localization! Today, I want to look at date formatting for Android applications. When you want to display a date in your app, you have to keep in mind that your customers in different locales will expect dates to look the way they&rsquo;re used to seeing them. But while there are a lot of date formatting options on Android, they aren&rsquo;t all robust enough to &lsquo;just work&rsquo; the way you need them to. I&rsquo;ll show you a how to get you exactly the format you want every time."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.adamormsby.com/posts/"},{"@type":"ListItem","position":2,"name":"Localization - Formatting Dates on Android","item":"https://www.adamormsby.com/posts/013-android-localization-formatting-dates/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Localization - Formatting Dates on Android","name":"Localization - Formatting Dates on Android","description":"Hey everybody, let\u0026rsquo;s talk localization! Today, I want to look at date formatting for Android applications. When you want to display a date in your app, you have to keep in mind that your customers in different locales will expect dates to look the way they\u0026rsquo;re used to seeing them. But while there are a lot of date formatting options on Android, they aren\u0026rsquo;t all robust enough to \u0026lsquo;just work\u0026rsquo; the way you need them to. I\u0026rsquo;ll show you a how to get you exactly the format you want every time.","keywords":["android","localization","L10n","android l10n","android localization","android dateutils","android date format","android localization formatting dates"],"articleBody":"Hey everybody, let’s talk localization! It’s a passion of mine that I’d like to spend more time on, and I want to share some tips and tricks I’ve picked up in my work. Hopefully, this is only the first of many localization posts to come. Keep an eye out for more in the future!\nView 'Android Localization Samples' on Github\nToday, I want to look at date formatting for Android applications. When you want to display a date in your app, you have to keep in mind that your customers in different locales will expect dates to look the way they’re used to seeing them. But while there are a lot of date formatting options on Android, they aren’t all robust enough to ‘just work’ the way you need them to.\nSo first, let’s take a look at two common solutions that aren’t as great as they seem. Then I’ll show you a how to get you exactly the format you want every time.\nLocalDate, LocalTime, LocalDateTime - from java.time These newer Java 8 time classes were built to take the place of the old, clunky Date, Calendar, and DateFormat classes - which you should never rely on completely for localized dates because they’re junk. But this new java.time library is supposed to take care of all the problems developers had with the old ones. So… problem solved?\nMaybe for Java devs, but this newer library only works with API 26 or higher on Android. Many projects still support older APIs, so these libraries simply aren’t an option them. However, if you don’t have to worry about that, give these a shot! I’ll see if I can spend some time with these in the future and share my thoughts.\nSimpleDateFormat - from java.text A ton of Android projects take advantage of SimpleDateFormat, and why wouldn’t you? Even the Android docs say this class is for formatting and parsing dates in a locale-sensitive manner. Sounds great, right? Well, I think it’s a bit of a trap.\nJava’s SimpleDateFormat is a really attractive solution for anyone who previously tried the DateFormat class and found the formatting options to be really restrictive. DateFormat supports a limited number of pre-determined date-time arrangements, and plenty of desirable options are missing - like showing the month and date without the year. (The year is always there! Augh!! Hair pulling madness.) But with SimpleDateFormat, you can use a string value to explicitly build your own date format.\nval myFormat = SimpleDateFormat(\"MMMM dd, yyyy\") // no locale specified, uses Locale.getDefault() val date = Date() println(myFormat.parse(date)) /* sample output en_US, USA -- December 07, 2008 fr_FR, France -- décembre 07, 2008 */ Super easy, right? Well, if you have keen eyes and you’re familiar with the date format in France, you’ve already noticed the sample output would be incorrect for that region. France puts the day number before the month!\nwrong -\u003e décembre 07, 2008 right -\u003e 07 décembre 2008 And that’s the trap. The main reason to use SimpleDateFormat is to create your own format, but when you create your own format, it’s not really ’locale-sensitive’ after all! And that’s a bit of a contradiction, I think.\nIn the end, your hard-coded string is the problem, and no matter what locale your app is running in, that format never changes to match. Now, there’s a way around this - you can extract your format string into a strings.xml resource file and add a ’translated’ version of the format in the French resource.\n","wordCount":"1299","inLanguage":"en","image":"https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover.jpg","datePublished":"2022-03-28T06:00:00-06:00","dateModified":"2022-03-28T06:00:00-06:00","author":{"@type":"Person","name":"Adam Ormsby"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.adamormsby.com/posts/013-android-localization-formatting-dates/"},"publisher":{"@type":"Organization","name":"Adam Ormsby","logo":{"@type":"ImageObject","url":"https://www.adamormsby.com/site-img/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.adamormsby.com/ accesskey=h title="Adam Ormsby (Alt + H)">Adam Ormsby</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.adamormsby.com/ title=Posts><span>Posts</span></a></li><li><a href=https://linkedin.com/in/adamormsby title=LinkedIn><span>LinkedIn</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://github.com/aromsby title=GitHub><span>GitHub</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Localization - Formatting Dates on Android</h1><div class=post-meta><span title='2022-03-28 06:00:00 -0600 -0600'>Mar 28, 2022</span></div></header><figure class=entry-cover><a href=https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover.jpg target=_blank rel="noopener noreferrer"><img loading=eager srcset='https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover_hu_f261036f59ef3aaa.jpg 360w,https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover_hu_d6f49ef0e817cf1e.jpg 480w,https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover_hu_eee4f15fb8b43981.jpg 720w,https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover_hu_b932f15ca938564.jpg 1080w,https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover.jpg 1200w' src=https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover.jpg sizes="(min-width: 768px) 720px, 100vw" width=1200 height=630 alt="Localization - Formatting Dates on Android"></a></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#localdate-localtime-localdatetime---from-javatime aria-label="LocalDate, LocalTime, LocalDateTime - from java.time">LocalDate, LocalTime, LocalDateTime - from java.time</a></li><li><a href=#simpledateformat---from-javatext aria-label="SimpleDateFormat - from java.text">SimpleDateFormat - from java.text</a></li><li><a href=#dateutils aria-label=DateUtils>DateUtils</a></li><li><a href=#dateutils-and-kotlin-extension-functions aria-label="DateUtils and Kotlin Extension Functions">DateUtils and Kotlin Extension Functions</a></li></ul></div></details></div><div class=post-content><p>Hey everybody, let&rsquo;s talk localization! It&rsquo;s a passion of mine that I&rsquo;d like to spend more time on, and I want to share some tips and tricks I&rsquo;ve picked up in my work. Hopefully, this is only the first of many localization posts to come. Keep an eye out for more in the future!</p><form action=https://github.com/aormsby/android-l10n-samples target=_blank><button class=button style="margin:18px 0;padding:12px;display:flex;align-items:center;justify-content:flex-start" type=submit>
<img src=/octocat-filled.svg alt="Github logo" width=32px style="margin:0 12px 0 0"><p style=margin:0>View 'Android Localization Samples' on Github</p></button></form><p>Today, I want to look at <em><strong>date formatting</strong></em> for Android applications. When you want to display a date in your app, you have to keep in mind that your customers in different locales will expect dates to look the way they&rsquo;re used to seeing them. But while there are a lot of date formatting options on Android, they aren&rsquo;t all robust enough to &lsquo;just work&rsquo; the way you need them to.</p><p>So first, let&rsquo;s take a look at two common solutions that aren&rsquo;t as great as they seem. Then I&rsquo;ll show you a how to get you exactly the format you want every time.</p><h2 id=localdate-localtime-localdatetime---from-javatime>LocalDate, LocalTime, LocalDateTime - from java.time<a hidden class=anchor aria-hidden=true href=#localdate-localtime-localdatetime---from-javatime>#</a></h2><p>These newer Java 8 time classes were built to take the place of the old, clunky <a href=https://docs.oracle.com/javase/8/docs/api/java/util/Date.html>Date</a>, <a href=https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html>Calendar</a>, and <a href=https://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html>DateFormat</a> classes - which you should <em>never</em> rely on completely for localized dates because they&rsquo;re junk. But this new <em>java.time</em> library is supposed to take care of all the problems developers had with the old ones. So&mldr; problem solved?</p><p>Maybe for Java devs, but this newer library only works with <em>API 26 or higher</em> on Android. Many projects still support older APIs, so these libraries simply aren&rsquo;t an option them. However, if you don&rsquo;t have to worry about that, give these a shot! I&rsquo;ll see if I can spend some time with these in the future and share my thoughts.</p><h2 id=simpledateformat---from-javatext>SimpleDateFormat - from java.text<a hidden class=anchor aria-hidden=true href=#simpledateformat---from-javatext>#</a></h2><p>A <em>ton</em> of Android projects take advantage of <a href=https://developer.android.com/reference/java/text/SimpleDateFormat>SimpleDateFormat</a>, and why wouldn&rsquo;t you? Even the Android docs say this class is <code>for formatting and parsing dates in a locale-sensitive manner</code>. Sounds great, right? Well, I think it&rsquo;s a bit of a trap.</p><p>Java&rsquo;s SimpleDateFormat is a really attractive solution for anyone who previously tried the DateFormat class and found the formatting options to be really restrictive. DateFormat supports a limited number of <em>pre-determined</em> date-time arrangements, and plenty of desirable options are missing - like showing the month and date without the year. (The year is <em>always there</em>! Augh!! Hair pulling madness.) But with SimpleDateFormat, you can use a string value to explicitly build your own date format.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>val</span> myFormat = SimpleDateFormat(<span style=color:#e6db74>&#34;MMMM dd, yyyy&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>// no locale specified, uses Locale.getDefault()
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> date = Date()
</span></span><span style=display:flex><span>println(myFormat.parse(date))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* sample output
</span></span></span><span style=display:flex><span><span style=color:#75715e>en_US, USA -- December 07, 2008
</span></span></span><span style=display:flex><span><span style=color:#75715e>fr_FR, France -- décembre 07, 2008
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span></code></pre></div><p>Super easy, right? Well, if you have keen eyes and you&rsquo;re familiar with the date format in France, you&rsquo;ve already noticed the sample output would be incorrect for that region. France puts the day number before the month!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>wrong -&gt; décembre 07, 2008
</span></span><span style=display:flex><span>right -&gt; 07 décembre 2008
</span></span></code></pre></div><p><strong>And that&rsquo;s the trap.</strong> The main reason to use SimpleDateFormat is to create your own format, but when you create your own format, it&rsquo;s not really &rsquo;locale-sensitive&rsquo; after all! And that&rsquo;s a bit of a contradiction, I think.</p><p>In the end, your hard-coded string is the problem, and no matter what locale your app is running in, that format never changes to match. Now, there&rsquo;s a way around this - you can extract your format string into a <code>strings.xml</code> resource file and add a &rsquo;translated&rsquo; version of the format in the French resource.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;!-- res/values-en/strings.xml --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;string</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;date_format_1&#34;</span><span style=color:#f92672>&gt;</span>MMMM dd, yyyy<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!-- res/values-fr/strings.xml --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;string</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;date_format_1&#34;</span><span style=color:#f92672>&gt;</span>dd MMMM yyyy<span style=color:#f92672>&lt;/string&gt;</span>
</span></span></code></pre></div><p>This works fine, and it might seem reasonable at first. But if your project needs 10 different date formats in 10 different languages&mldr; that&rsquo;s already 100 formatting strings you need to add to your resources and keep track of over time.</p><p>If you need that kind of specificity, give it a shot! But I don&rsquo;t think you do, and I&rsquo;m about to prove it. Let&rsquo;s take a look a look at DateUtils - the tool that does all this junk for you.</p><h2 id=dateutils>DateUtils<a hidden class=anchor aria-hidden=true href=#dateutils>#</a></h2><p><a href=https://developer.android.com/reference/android/text/format/DateUtils>DateUtils</a> is the absolute <em>bomb</em> for date formatting on Android. It&rsquo;s flexible, robust, and aboslutely <em>is</em> sensitive to your customer&rsquo;s active locale. In fact, you&rsquo;re not even allowed to specify the locale being used when you format with DateUtils, and for the large majority of common date formatting needs, this is absolutely what you want. You want the system to handle most things for you, and DateUtils does this well.</p><p>The flexibility in using DateUtils comes from its bitmask formatting flags. They allow you to specify <em>exactly</em> which date or time components you want to appear in your formatted date value, but instead of showing up in the order you choose (like with the string from before), they act as simple on/off switches independent of order or locale. Here&rsquo;s an example.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span>println(
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>DateUtils</span>.formatDateTime(
</span></span><span style=display:flex><span>    context,    <span style=color:#75715e>// needs a Context
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    myDate,     <span style=color:#75715e>// the Date object to format
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>DateUtils</span>.FORMAT_SHOW_DATE  <span style=color:#75715e>// the format flag for showind &#39;date&#39; (includes year)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  )
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* output:
</span></span></span><span style=display:flex><span><span style=color:#75715e>en_US -&gt; September 25, 2005
</span></span></span><span style=display:flex><span><span style=color:#75715e>fr_FR -&gt; 25 septembre 2005
</span></span></span><span style=display:flex><span><span style=color:#75715e>zh_CN -&gt; 2005年9月25日
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span></code></pre></div><p>Let&rsquo;s break this down a bit:</p><ul><li><code>DateUtils.formatDateTime</code> outputs a <code>String</code> value</li><li>First param is a <code>Context</code></li><li>Second param is the <code>Date</code> you want to format</li><li>Third param is the set of format flags you want to apply to the Date</li></ul><p>And that&rsquo;s it! No explicit format strings, no translated format resources, no locale problems! It <em>just works.</em></p><p>Let&rsquo;s see how you can use the bit flags to remove the year now.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#a6e22e>DateUtils</span>.FORMAT_SHOW_DATE or <span style=color:#a6e22e>DateUtils</span>.FORMAT_NO_YEAR
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* output:
</span></span></span><span style=display:flex><span><span style=color:#75715e>en_US -&gt; September 25
</span></span></span><span style=display:flex><span><span style=color:#75715e>fr_FR -&gt; 25 septembre
</span></span></span><span style=display:flex><span><span style=color:#75715e>zh_CN -&gt; 9月25日
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span></code></pre></div><p>The <code>or</code> bit operator takes both of the flags, combines them, and outputs a format with both flags enabled. This works with <em>any</em> number of formatting flags, including things like word abbreviations, numeric dates, showing weekdays, showing time, hiding the month, etc. Here are <a href=https://developer.android.com/reference/android/text/format/DateUtils#constants_1>all the available flags</a> for you.</p><p>DateUtils is truly the most flexible, easy-to-use, <em>built-in</em> date formatter I&rsquo;ve come across for Android projects. If you aren&rsquo;t using it yet, you should <em>really</em> think about switching to it today.</p><h2 id=dateutils-and-kotlin-extension-functions>DateUtils and Kotlin Extension Functions<a hidden class=anchor aria-hidden=true href=#dateutils-and-kotlin-extension-functions>#</a></h2><p>Want to supercharge your use of DateUtils? Use it in some Kotlin extension functions! Here are some fantastic samples from the Github project linked at the top of this post. These are ready for use in your project today!</p><p>Show only the time:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>Date</span>.asTime(context: Context): String =
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>DateUtils</span>.formatDateTime(context, time, <span style=color:#a6e22e>DateUtils</span>.FORMAT_SHOW_TIME)
</span></span></code></pre></div><p>Show date with year, numeric and abbreviation options:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>Date</span>.asDateWithYear(
</span></span><span style=display:flex><span>    context: Context,
</span></span><span style=display:flex><span>    numeric: Boolean = <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>    abbreviated: Boolean = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>): String {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> formatFlags = <span style=color:#a6e22e>DateUtils</span>.FORMAT_SHOW_DATE
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (numeric) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_NUMERIC_DATE
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (abbreviated) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_ABBREV_MONTH
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>DateUtils</span>.formatDateTime(context, time, formatFlags)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Dynamically show the time (if date is today) or the date (if date is not today):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>Date</span>.asTimeOrRecentDate(): String =
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>DateUtils</span>.formatSameDayTime(
</span></span><span style=display:flex><span>        time,
</span></span><span style=display:flex><span>        Date().time,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>DateFormat</span>.LONG,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>DateFormat</span>.SHORT
</span></span><span style=display:flex><span>    ).toString()
</span></span></code></pre></div><p>And something <em>super</em> flexible!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>Date</span>.flexFormatted(
</span></span><span style=display:flex><span>    context: Context,
</span></span><span style=display:flex><span>    showWeekday: Boolean = <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>    showMonth: Boolean = <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    showMonthDay: Boolean = <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    showYear: Boolean = <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>    showTime: Boolean = <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>    numeric: Boolean = <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>    abbreviated: Boolean = <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>): String {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> formatFlags = <span style=color:#ae81ff>0</span> <span style=color:#75715e>// starts blank
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (showWeekday) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_SHOW_WEEKDAY
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (showMonth) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_SHOW_DATE
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (!showMonthDay) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_NO_MONTH_DAY
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (!showYear) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_NO_YEAR
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (showTime) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_SHOW_TIME
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (numeric) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_NUMERIC_DATE
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (abbreviated) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_ABBREV_MONTH or <span style=color:#a6e22e>DateUtils</span>.FORMAT_ABBREV_WEEKDAY
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>DateUtils</span>.formatDateTime(context, time, formatFlags)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><hr><p>Thanks for reading! I hope this little trip into the world of localization was as fun for you as it was for me. Please - ask questions, give opinions, and share your ideas in the comments! I&rsquo;d love to swap date formatting stories with you. Cheers!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.adamormsby.com/tags/android/>Android</a></li><li><a href=https://www.adamormsby.com/tags/localization/>Localization</a></li></ul><nav class=paginav><a class=prev href=https://www.adamormsby.com/posts/014-old-laptop-disassembly/><span class=title>« Prev</span><br><span>WilyKit: The MacBook That Became Wall Art</span>
</a><a class=next href=https://www.adamormsby.com/posts/012-hugo-modules/><span class=title>Next »</span><br><span>Using Hugo Modules Instead of Git Submodules</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://www.adamormsby.com/>Adam Ormsby</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script data-goatcounter=https://aoappdev.goatcounter.com/count async src=//gc.zgo.at/count.js></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>