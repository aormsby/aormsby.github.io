<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Localization - Formatting Dates on Android | </title><meta name=keywords content="android,localization,L10n,android l10n,android localization,android dateutils,android date format,android localization formatting dates"><meta name=description content="Hey everybody, let&rsquo;s talk localization! Today, I want to look at date formatting for Android applications. When you want to display a date in your app, you have to keep in mind that your customers in different locales will expect dates to look the way they&rsquo;re used to seeing them. But while there are a lot of date formatting options on Android, they aren&rsquo;t all robust enough to &lsquo;just work&rsquo; the way you need them to. I&rsquo;ll show you a how to get you exactly the format you want every time."><meta name=author content="Adam Ormsby"><link rel=canonical href=https://www.adamormsby.com/posts/013-android-localization-formatting-dates/><link crossorigin=anonymous href=/assets/css/stylesheet.70dfb5075c2038f0b0c78f6e32ccfbd253b5b45af5dc160b6b45574cbc1efc93.css integrity="sha256-cN+1B1wgOPCwx49uMsz70lO1tFr13BYLa0VXTLwe/JM=" rel="preload stylesheet" as=style><link rel=icon href=https://www.adamormsby.com/site-img/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://www.adamormsby.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.adamormsby.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.adamormsby.com/apple-touch-icon.png><link rel=mask-icon href=https://www.adamormsby.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://www.adamormsby.com/posts/013-android-localization-formatting-dates/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Localization - Formatting Dates on Android"><meta property="og:description" content="Hey everybody, let&rsquo;s talk localization! Today, I want to look at date formatting for Android applications. When you want to display a date in your app, you have to keep in mind that your customers in different locales will expect dates to look the way they&rsquo;re used to seeing them. But while there are a lot of date formatting options on Android, they aren&rsquo;t all robust enough to &lsquo;just work&rsquo; the way you need them to. I&rsquo;ll show you a how to get you exactly the format you want every time."><meta property="og:type" content="article"><meta property="og:url" content="https://www.adamormsby.com/posts/013-android-localization-formatting-dates/"><meta property="og:image" content="https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-28T06:00:00-06:00"><meta property="article:modified_time" content="2022-03-28T06:00:00-06:00"><meta property="og:site_name" content="Adam Ormsby"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover.jpg"><meta name=twitter:title content="Localization - Formatting Dates on Android"><meta name=twitter:description content="Hey everybody, let&rsquo;s talk localization! Today, I want to look at date formatting for Android applications. When you want to display a date in your app, you have to keep in mind that your customers in different locales will expect dates to look the way they&rsquo;re used to seeing them. But while there are a lot of date formatting options on Android, they aren&rsquo;t all robust enough to &lsquo;just work&rsquo; the way you need them to. I&rsquo;ll show you a how to get you exactly the format you want every time."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.adamormsby.com/posts/"},{"@type":"ListItem","position":2,"name":"Localization - Formatting Dates on Android","item":"https://www.adamormsby.com/posts/013-android-localization-formatting-dates/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Localization - Formatting Dates on Android","name":"Localization - Formatting Dates on Android","description":"Hey everybody, let\u0026rsquo;s talk localization! Today, I want to look at date formatting for Android applications. When you want to display a date in your app, you have to keep in mind that your customers in different locales will expect dates to look the way they\u0026rsquo;re used to seeing them. But while there are a lot of date formatting options on Android, they aren\u0026rsquo;t all robust enough to \u0026lsquo;just work\u0026rsquo; the way you need them to. I\u0026rsquo;ll show you a how to get you exactly the format you want every time.","keywords":["android","localization","L10n","android l10n","android localization","android dateutils","android date format","android localization formatting dates"],"articleBody":"Hey everybody, let’s talk localization! It’s a passion of mine that I’d like to spend more time on, and I want to share some tips and tricks I’ve picked up in my work. Hopefully, this is only the first of many localization posts to come. Keep an eye out for more in the future!\nView 'Android Localization Samples' on Github\nToday, I want to look at date formatting for Android applications. When you want to display a date in your app, you have to keep in mind that your customers in different locales will expect dates to look the way they’re used to seeing them. But while there are a lot of date formatting options on Android, they aren’t all robust enough to ‘just work’ the way you need them to.\nSo first, let’s take a look at two common solutions that aren’t as great as they seem. Then I’ll show you a how to get you exactly the format you want every time.\nLocalDate, LocalTime, LocalDateTime - from java.time These newer Java 8 time classes were built to take the place of the old, clunky Date, Calendar, and DateFormat classes - which you should never rely on completely for localized dates because they’re junk. But this new java.time library is supposed to take care of all the problems developers had with the old ones. So… problem solved?\nMaybe for Java devs, but this newer library only works with API 26 or higher on Android. Many projects still support older APIs, so these libraries simply aren’t an option them. However, if you don’t have to worry about that, give these a shot! I’ll see if I can spend some time with these in the future and share my thoughts.\nSimpleDateFormat - from java.text A ton of Android projects take advantage of SimpleDateFormat, and why wouldn’t you? Even the Android docs say this class is for formatting and parsing dates in a locale-sensitive manner. Sounds great, right? Well, I think it’s a bit of a trap.\nJava’s SimpleDateFormat is a really attractive solution for anyone who previously tried the DateFormat class and found the formatting options to be really restrictive. DateFormat supports a limited number of pre-determined date-time arrangements, and plenty of desirable options are missing - like showing the month and date without the year. (The year is always there! Augh!! Hair pulling madness.) But with SimpleDateFormat, you can use a string value to explicitly build your own date format.\nval myFormat = SimpleDateFormat(\"MMMM dd, yyyy\") // no locale specified, uses Locale.getDefault() val date = Date() println(myFormat.parse(date)) /* sample output en_US, USA -- December 07, 2008 fr_FR, France -- décembre 07, 2008 */ Super easy, right? Well, if you have keen eyes and you’re familiar with the date format in France, you’ve already noticed the sample output would be incorrect for that region. France puts the day number before the month!\nwrong -\u003e décembre 07, 2008 right -\u003e 07 décembre 2008 And that’s the trap. The main reason to use SimpleDateFormat is to create your own format, but when you create your own format, it’s not really ’locale-sensitive’ after all! And that’s a bit of a contradiction, I think.\nIn the end, your hard-coded string is the problem, and no matter what locale your app is running in, that format never changes to match. Now, there’s a way around this - you can extract your format string into a strings.xml resource file and add a ’translated’ version of the format in the French resource.\n","wordCount":"1299","inLanguage":"en","image":"https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover.jpg","datePublished":"2022-03-28T06:00:00-06:00","dateModified":"2022-03-28T06:00:00-06:00","author":{"@type":"Person","name":"Adam Ormsby"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.adamormsby.com/posts/013-android-localization-formatting-dates/"},"publisher":{"@type":"Organization","name":"","logo":{"@type":"ImageObject","url":"https://www.adamormsby.com/site-img/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.adamormsby.com/ title=Posts><span>Posts</span></a></li><li><a href=https://www.adamormsby.com/projects title=Projects><span>Projects</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Localization - Formatting Dates on Android</h1><div class=post-meta><span title='2022-03-28 06:00:00 -0600 -0600'>Mar 28, 2022</span>&nbsp;·&nbsp;Adam Ormsby</div></header><figure class=entry-cover><a href=https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover.jpg target=_blank rel="noopener noreferrer"><img loading=eager srcset="https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover_hu30910665284931ace4f57faa1e01d828_493700_360x0_resize_q75_box.jpg 360w ,https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover_hu30910665284931ace4f57faa1e01d828_493700_480x0_resize_q75_box.jpg 480w ,https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover_hu30910665284931ace4f57faa1e01d828_493700_720x0_resize_q75_box.jpg 720w ,https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover_hu30910665284931ace4f57faa1e01d828_493700_1080x0_resize_q75_box.jpg 1080w ,https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover.jpg 1200w" sizes="(min-width: 768px) 720px, 100vw" src=https://www.adamormsby.com/posts/013-android-localization-formatting-dates/cover.jpg alt="Localization - Formatting Dates on Android" width=1200 height=630></a></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#localdate-localtime-localdatetime---from-javatime aria-label="LocalDate, LocalTime, LocalDateTime - from java.time">LocalDate, LocalTime, LocalDateTime - from java.time</a></li><li><a href=#simpledateformat---from-javatext aria-label="SimpleDateFormat - from java.text">SimpleDateFormat - from java.text</a></li><li><a href=#dateutils aria-label=DateUtils>DateUtils</a></li><li><a href=#dateutils-and-kotlin-extension-functions aria-label="DateUtils and Kotlin Extension Functions">DateUtils and Kotlin Extension Functions</a></li></ul></div></details></div><div class=post-content><p>Hey everybody, let&rsquo;s talk localization! It&rsquo;s a passion of mine that I&rsquo;d like to spend more time on, and I want to share some tips and tricks I&rsquo;ve picked up in my work. Hopefully, this is only the first of many localization posts to come. Keep an eye out for more in the future!</p><form action=https://github.com/aormsby/android-l10n-samples target=_blank><button class=button style="margin:18px 0;padding:12px;display:flex;align-items:center;justify-content:flex-start" type=submit>
<img src=/octocat-filled.svg alt="Github logo" width=32px style="margin:0 12px 0 0"><p style=margin:0>View 'Android Localization Samples' on Github</p></button></form><p>Today, I want to look at <em><strong>date formatting</strong></em> for Android applications. When you want to display a date in your app, you have to keep in mind that your customers in different locales will expect dates to look the way they&rsquo;re used to seeing them. But while there are a lot of date formatting options on Android, they aren&rsquo;t all robust enough to &lsquo;just work&rsquo; the way you need them to.</p><p>So first, let&rsquo;s take a look at two common solutions that aren&rsquo;t as great as they seem. Then I&rsquo;ll show you a how to get you exactly the format you want every time.</p><h2 id=localdate-localtime-localdatetime---from-javatime>LocalDate, LocalTime, LocalDateTime - from java.time<a hidden class=anchor aria-hidden=true href=#localdate-localtime-localdatetime---from-javatime>#</a></h2><p>These newer Java 8 time classes were built to take the place of the old, clunky <a href=https://docs.oracle.com/javase/8/docs/api/java/util/Date.html>Date</a>, <a href=https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html>Calendar</a>, and <a href=https://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html>DateFormat</a> classes - which you should <em>never</em> rely on completely for localized dates because they&rsquo;re junk. But this new <em>java.time</em> library is supposed to take care of all the problems developers had with the old ones. So&mldr; problem solved?</p><p>Maybe for Java devs, but this newer library only works with <em>API 26 or higher</em> on Android. Many projects still support older APIs, so these libraries simply aren&rsquo;t an option them. However, if you don&rsquo;t have to worry about that, give these a shot! I&rsquo;ll see if I can spend some time with these in the future and share my thoughts.</p><h2 id=simpledateformat---from-javatext>SimpleDateFormat - from java.text<a hidden class=anchor aria-hidden=true href=#simpledateformat---from-javatext>#</a></h2><p>A <em>ton</em> of Android projects take advantage of <a href=https://developer.android.com/reference/java/text/SimpleDateFormat>SimpleDateFormat</a>, and why wouldn&rsquo;t you? Even the Android docs say this class is <code>for formatting and parsing dates in a locale-sensitive manner</code>. Sounds great, right? Well, I think it&rsquo;s a bit of a trap.</p><p>Java&rsquo;s SimpleDateFormat is a really attractive solution for anyone who previously tried the DateFormat class and found the formatting options to be really restrictive. DateFormat supports a limited number of <em>pre-determined</em> date-time arrangements, and plenty of desirable options are missing - like showing the month and date without the year. (The year is <em>always there</em>! Augh!! Hair pulling madness.) But with SimpleDateFormat, you can use a string value to explicitly build your own date format.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>val</span> myFormat = SimpleDateFormat(<span style=color:#e6db74>&#34;MMMM dd, yyyy&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>// no locale specified, uses Locale.getDefault()
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> date = Date()
</span></span><span style=display:flex><span>println(myFormat.parse(date))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* sample output
</span></span></span><span style=display:flex><span><span style=color:#75715e>en_US, USA -- December 07, 2008
</span></span></span><span style=display:flex><span><span style=color:#75715e>fr_FR, France -- décembre 07, 2008
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span></code></pre></div><p>Super easy, right? Well, if you have keen eyes and you&rsquo;re familiar with the date format in France, you&rsquo;ve already noticed the sample output would be incorrect for that region. France puts the day number before the month!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>wrong -&gt; décembre 07, 2008
</span></span><span style=display:flex><span>right -&gt; 07 décembre 2008
</span></span></code></pre></div><p><strong>And that&rsquo;s the trap.</strong> The main reason to use SimpleDateFormat is to create your own format, but when you create your own format, it&rsquo;s not really &rsquo;locale-sensitive&rsquo; after all! And that&rsquo;s a bit of a contradiction, I think.</p><p>In the end, your hard-coded string is the problem, and no matter what locale your app is running in, that format never changes to match. Now, there&rsquo;s a way around this - you can extract your format string into a <code>strings.xml</code> resource file and add a &rsquo;translated&rsquo; version of the format in the French resource.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;!-- res/values-en/strings.xml --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;string</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;date_format_1&#34;</span><span style=color:#f92672>&gt;</span>MMMM dd, yyyy<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!-- res/values-fr/strings.xml --&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;string</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;date_format_1&#34;</span><span style=color:#f92672>&gt;</span>dd MMMM yyyy<span style=color:#f92672>&lt;/string&gt;</span>
</span></span></code></pre></div><p>This works fine, and it might seem reasonable at first. But if your project needs 10 different date formats in 10 different languages&mldr; that&rsquo;s already 100 formatting strings you need to add to your resources and keep track of over time.</p><p>If you need that kind of specificity, give it a shot! But I don&rsquo;t think you do, and I&rsquo;m about to prove it. Let&rsquo;s take a look a look at DateUtils - the tool that does all this junk for you.</p><h2 id=dateutils>DateUtils<a hidden class=anchor aria-hidden=true href=#dateutils>#</a></h2><p><a href=https://developer.android.com/reference/android/text/format/DateUtils>DateUtils</a> is the absolute <em>bomb</em> for date formatting on Android. It&rsquo;s flexible, robust, and aboslutely <em>is</em> sensitive to your customer&rsquo;s active locale. In fact, you&rsquo;re not even allowed to specify the locale being used when you format with DateUtils, and for the large majority of common date formatting needs, this is absolutely what you want. You want the system to handle most things for you, and DateUtils does this well.</p><p>The flexibility in using DateUtils comes from its bitmask formatting flags. They allow you to specify <em>exactly</em> which date or time components you want to appear in your formatted date value, but instead of showing up in the order you choose (like with the string from before), they act as simple on/off switches independent of order or locale. Here&rsquo;s an example.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span>println(
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>DateUtils</span>.formatDateTime(
</span></span><span style=display:flex><span>    context,    <span style=color:#75715e>// needs a Context
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    myDate,     <span style=color:#75715e>// the Date object to format
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>DateUtils</span>.FORMAT_SHOW_DATE  <span style=color:#75715e>// the format flag for showind &#39;date&#39; (includes year)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  )
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* output:
</span></span></span><span style=display:flex><span><span style=color:#75715e>en_US -&gt; September 25, 2005
</span></span></span><span style=display:flex><span><span style=color:#75715e>fr_FR -&gt; 25 septembre 2005
</span></span></span><span style=display:flex><span><span style=color:#75715e>zh_CN -&gt; 2005年9月25日
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span></code></pre></div><p>Let&rsquo;s break this down a bit:</p><ul><li><code>DateUtils.formatDateTime</code> outputs a <code>String</code> value</li><li>First param is a <code>Context</code></li><li>Second param is the <code>Date</code> you want to format</li><li>Third param is the set of format flags you want to apply to the Date</li></ul><p>And that&rsquo;s it! No explicit format strings, no translated format resources, no locale problems! It <em>just works.</em></p><p>Let&rsquo;s see how you can use the bit flags to remove the year now.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#a6e22e>DateUtils</span>.FORMAT_SHOW_DATE or <span style=color:#a6e22e>DateUtils</span>.FORMAT_NO_YEAR
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* output:
</span></span></span><span style=display:flex><span><span style=color:#75715e>en_US -&gt; September 25
</span></span></span><span style=display:flex><span><span style=color:#75715e>fr_FR -&gt; 25 septembre
</span></span></span><span style=display:flex><span><span style=color:#75715e>zh_CN -&gt; 9月25日
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span></code></pre></div><p>The <code>or</code> bit operator takes both of the flags, combines them, and outputs a format with both flags enabled. This works with <em>any</em> number of formatting flags, including things like word abbreviations, numeric dates, showing weekdays, showing time, hiding the month, etc. Here are <a href=https://developer.android.com/reference/android/text/format/DateUtils#constants_1>all the available flags</a> for you.</p><p>DateUtils is truly the most flexible, easy-to-use, <em>built-in</em> date formatter I&rsquo;ve come across for Android projects. If you aren&rsquo;t using it yet, you should <em>really</em> think about switching to it today.</p><h2 id=dateutils-and-kotlin-extension-functions>DateUtils and Kotlin Extension Functions<a hidden class=anchor aria-hidden=true href=#dateutils-and-kotlin-extension-functions>#</a></h2><p>Want to supercharge your use of DateUtils? Use it in some Kotlin extension functions! Here are some fantastic samples from the Github project linked at the top of this post. These are ready for use in your project today!</p><p>Show only the time:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>Date</span>.asTime(context: Context): String =
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>DateUtils</span>.formatDateTime(context, time, <span style=color:#a6e22e>DateUtils</span>.FORMAT_SHOW_TIME)
</span></span></code></pre></div><p>Show date with year, numeric and abbreviation options:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>Date</span>.asDateWithYear(
</span></span><span style=display:flex><span>    context: Context,
</span></span><span style=display:flex><span>    numeric: Boolean = <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>    abbreviated: Boolean = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>): String {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> formatFlags = <span style=color:#a6e22e>DateUtils</span>.FORMAT_SHOW_DATE
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (numeric) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_NUMERIC_DATE
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (abbreviated) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_ABBREV_MONTH
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>DateUtils</span>.formatDateTime(context, time, formatFlags)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Dynamically show the time (if date is today) or the date (if date is not today):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>Date</span>.asTimeOrRecentDate(): String =
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>DateUtils</span>.formatSameDayTime(
</span></span><span style=display:flex><span>        time,
</span></span><span style=display:flex><span>        Date().time,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>DateFormat</span>.LONG,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>DateFormat</span>.SHORT
</span></span><span style=display:flex><span>    ).toString()
</span></span></code></pre></div><p>And something <em>super</em> flexible!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>Date</span>.flexFormatted(
</span></span><span style=display:flex><span>    context: Context,
</span></span><span style=display:flex><span>    showWeekday: Boolean = <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>    showMonth: Boolean = <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    showMonthDay: Boolean = <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    showYear: Boolean = <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>    showTime: Boolean = <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>    numeric: Boolean = <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>    abbreviated: Boolean = <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>): String {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> formatFlags = <span style=color:#ae81ff>0</span> <span style=color:#75715e>// starts blank
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (showWeekday) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_SHOW_WEEKDAY
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (showMonth) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_SHOW_DATE
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (!showMonthDay) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_NO_MONTH_DAY
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (!showYear) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_NO_YEAR
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (showTime) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_SHOW_TIME
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (numeric) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_NUMERIC_DATE
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (abbreviated) formatFlags = formatFlags or <span style=color:#a6e22e>DateUtils</span>.FORMAT_ABBREV_MONTH or <span style=color:#a6e22e>DateUtils</span>.FORMAT_ABBREV_WEEKDAY
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>DateUtils</span>.formatDateTime(context, time, formatFlags)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><hr><p>Thanks for reading! I hope this little trip into the world of localization was as fun for you as it was for me. Please - ask questions, give opinions, and share your ideas in the comments! I&rsquo;d love to swap date formatting stories with you. Cheers!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.adamormsby.com/tags/android/>Android</a></li><li><a href=https://www.adamormsby.com/tags/localization/>Localization</a></li></ul><nav class=paginav><a class=prev href=https://www.adamormsby.com/posts/014-old-laptop-disassembly/><span class=title>« Prev</span><br><span>WilyKit: The MacBook That Became Wall Art</span>
</a><a class=next href=https://www.adamormsby.com/posts/012-hugo-modules/><span class=title>Next »</span><br><span>Using Hugo Modules Instead of Git Submodules</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Localization - Formatting Dates on Android on x" href="https://x.com/intent/tweet/?text=Localization%20-%20Formatting%20Dates%20on%20Android&amp;url=https%3a%2f%2fwww.adamormsby.com%2fposts%2f013-android-localization-formatting-dates%2f&amp;hashtags=android%2clocalization"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Localization - Formatting Dates on Android on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.adamormsby.com%2fposts%2f013-android-localization-formatting-dates%2f&amp;title=Localization%20-%20Formatting%20Dates%20on%20Android&amp;summary=Localization%20-%20Formatting%20Dates%20on%20Android&amp;source=https%3a%2f%2fwww.adamormsby.com%2fposts%2f013-android-localization-formatting-dates%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Localization - Formatting Dates on Android on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.adamormsby.com%2fposts%2f013-android-localization-formatting-dates%2f&title=Localization%20-%20Formatting%20Dates%20on%20Android"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Localization - Formatting Dates on Android on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.adamormsby.com%2fposts%2f013-android-localization-formatting-dates%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Localization - Formatting Dates on Android on whatsapp" href="https://api.whatsapp.com/send?text=Localization%20-%20Formatting%20Dates%20on%20Android%20-%20https%3a%2f%2fwww.adamormsby.com%2fposts%2f013-android-localization-formatting-dates%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Localization - Formatting Dates on Android on telegram" href="https://telegram.me/share/url?text=Localization%20-%20Formatting%20Dates%20on%20Android&amp;url=https%3a%2f%2fwww.adamormsby.com%2fposts%2f013-android-localization-formatting-dates%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Localization - Formatting Dates on Android on ycombinator" href="https://news.ycombinator.com/submitlink?t=Localization%20-%20Formatting%20Dates%20on%20Android&u=https%3a%2f%2fwww.adamormsby.com%2fposts%2f013-android-localization-formatting-dates%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//adamormsby.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2024 <a href=https://www.adamormsby.com/></a></span><span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script data-goatcounter=https://aoappdev.goatcounter.com/count async src=//gc.zgo.at/count.js></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>