<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Hugo Themes - Making Modifications while Keeping the Source Up-To-Date | Adam Ormsby</title>
<meta name=keywords content="Hugo,Github,submodules,git submodules,git,website,how to use submodules,git command line,JAMStack,git branch workflow,branch workflow,parallel branches,Hugo theme customization,git remote">
<meta name=description content="In today&rsquo;s post, I want to take a look at how we can keep our Hugo themes up-to-date. The key to this process is using git submodules to track and pull updates to a theme with just a few quick commands. We&rsquo;ll see how to connect our theme to its remote source repo, which git commands we need to update it, and even how to safely make our own custom changes to the theme while keeping it in line with the source.">
<meta name=author content="Adam Ormsby">
<link rel=canonical href=https://www.adamormsby.com/posts/000/hugo-themes-making-modifications/>
<meta name=google-site-verification content="G-J4VPRYQ7NL">
<link crossorigin=anonymous href=/assets/css/stylesheet.min.d51d46cc471f474de0d065584fd1639f1a694c09c4e586120ad085b960911575.css integrity="sha256-1R1GzEcfR03g0GVYT9FjnxppTAnE5YYSCtCFuWCRFXU=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.adamormsby.com/site-img/favicon.png>
<link rel=icon type=image/png sizes=16x16 href=https://www.adamormsby.com/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://www.adamormsby.com/favicon-32x32.png>
<link rel=apple-touch-icon href=https://www.adamormsby.com/apple-touch-icon.png>
<link rel=mask-icon href=https://www.adamormsby.com/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.89.4">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-J4VPRYQ7NL"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-J4VPRYQ7NL',{anonymize_ip:!1})}</script>
<meta property="og:title" content="Hugo Themes - Making Modifications while Keeping the Source Up-To-Date">
<meta property="og:description" content="In today&rsquo;s post, I want to take a look at how we can keep our Hugo themes up-to-date. The key to this process is using git submodules to track and pull updates to a theme with just a few quick commands. We&rsquo;ll see how to connect our theme to its remote source repo, which git commands we need to update it, and even how to safely make our own custom changes to the theme while keeping it in line with the source.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.adamormsby.com/posts/000/hugo-themes-making-modifications/">
<meta property="og:image" content="https://www.adamormsby.com/posts/000/hugo-themes-making-modifications/cover.jpg"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2020-05-19T18:30:00-05:00">
<meta property="article:modified_time" content="2020-05-19T18:30:00-05:00"><meta property="og:site_name" content="Adam Ormsby">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://www.adamormsby.com/posts/000/hugo-themes-making-modifications/cover.jpg">
<meta name=twitter:title content="Hugo Themes - Making Modifications while Keeping the Source Up-To-Date">
<meta name=twitter:description content="In today&rsquo;s post, I want to take a look at how we can keep our Hugo themes up-to-date. The key to this process is using git submodules to track and pull updates to a theme with just a few quick commands. We&rsquo;ll see how to connect our theme to its remote source repo, which git commands we need to update it, and even how to safely make our own custom changes to the theme while keeping it in line with the source.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.adamormsby.com/posts/"},{"@type":"ListItem","position":2,"name":"Hugo Themes - Making Modifications while Keeping the Source Up-To-Date","item":"https://www.adamormsby.com/posts/000/hugo-themes-making-modifications/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Hugo Themes - Making Modifications while Keeping the Source Up-To-Date","name":"Hugo Themes - Making Modifications while Keeping the Source Up-To-Date","description":"In today\u0026rsquo;s post, I want to take a look at how we can keep our Hugo themes up-to-date. The key to this process is using git submodules to track and pull updates to a theme with just a few quick commands. We\u0026rsquo;ll see how to connect our theme to its remote source repo, which git commands we need to update it, and even how to safely make our own custom changes to the theme while keeping it in line with the source.","keywords":["Hugo","Github","submodules","git submodules","git","website","how to use submodules","git command line","JAMStack","git branch workflow","branch workflow","parallel branches","Hugo theme customization","git remote"],"articleBody":"This is a continuation of a previous post - How to Set Up a Hugo Site on Github Pages - with Git Submodules! I will reference some things we did there, so be sure to check it out if you’re confused about something.\nOverview In today’s post, I want to take a look at how we can keep our Hugo themes up-to-date. ‘But my theme works fine!’ you say. ‘Why would I ever need to update it?’ Well, when you download or clone a Hugo theme from its hosted git repository, you’re getting its latest version at that point in time. So even if the theme’s creator pushes updates to the code - with fixes, new features, and outside pull requests - you’ll still be stuck using the version you downloaded before. While this is fine in some cases, many of us want the newest updates so we can take advantage of a stronger, improved theme.\nThe key to this process is using git submodules to track and pull updates to a theme with just a few quick commands. If you followed my previous tutorial on adding a theme to your Hugo site as a git submodule, you already have a functional Hugo site with a (forked) theme included. Starting there, let’s see how to connect our theme to its remote source repo, which git commands we need to update it, and even how to safely make our own custom changes to the theme while keeping it in line with the source.\nJust the Updates, Please If we don’t intend to customize a theme at all, we can keep our workflow super simple. All we need to do is add the theme repo into our project as a submodule and periodically run a few git commands to check for updates. For the moment, let’s pretend we haven’t forked the theme repo and see what it would be like to clone the source directly. We’ll see an example with our fork in the next section.\nHere’s a quick refresher command for adding a submodule to our project.\n git submodule add https://github.com/panr/hugo-theme-hello-friend.git themes/hello-friend  You might be thinking you can simply run git clone instead of adding the theme as a submodule, but our site is already set up as a git repo so that doesn’t work here. Git doesn’t like having .git files in a subdirectory without a .gitmodules component in the root. For more on that, see this ‘simple dev’ post.\n In the example above, we added our submodule by pulling the theme’s source repo directly into our project. With the git remote command, we can easily verify that it’s connected to the correct remote repo.\n cd themes/hello-friend  git remote --verbose origin https://github.com/panr/hugo-theme-hello-friend.git (fetch) origin https://github.com/panr/hugo-theme-hello-friend.git (push)   And there it is! With this setup, all we need to do is pull updates straight from the source. From the theme’s directory, we run the following terminal commands.\n# optional: fetch any updates to view changes before merging  git fetch origin  git status [status output here] # pull updates and merge them automatically  git pull Since we’re not making any theme changes in this workflow, we shouldn’t expect any merging issues during the git pull. We don’t really need to fetch or check the status of the repo, but it’s always nice to see incoming changes before we bring them in.\nAnd that’s it! Getting updates every so often is no problem if we don’t intend to make our own customizations to a theme. But hey - customization is where the fun really begins.\nUpdates and Theme Customization - A Parallel Branch Workflow Here’s the scenario - We want to add a Hugo theme, make custom changes, and still to get updates from the theme’s original source. The method used above doesn’t work here for a few reasons:\n We can’t push our custom changes to the theme’s source repo. We simply don’t have those permissions on the repo. Our local changes will not be safely stored anywhere, and any pulled updates may not be easily mergeable. Incoming updates may require merges. If we’ve modified some of the theme files that are being updated in the source, then a simple git pull will not be enough to deal with the resulting conflicts.  Thankfully, a more advanced git workflow would help deal with these issues. Remember how we set up a forked theme repo in the last post? Now we get to take advantage of it. Crucially, the forked repo is ours, so we have full write access to it and don’t need to worry about repo permissions. We can do whatever we want.\nAdd a Remote Repo However, our fork doesn’t automatically receive source updates either! Here, an additional step is needed to link our fork back to the source repo. Earlier, in the direct update workflow, we used the git remote command to verify that we had the correct remote repo connections. Running it in our forked theme directory, we see only the fork as our remote.\n# my forked repo URLs as an example  git remote --verbose origin https://github.com/aormsby/F-hugo-theme-hello-friend.git (fetch) origin https://github.com/aormsby/F-hugo-theme-hello-friend.git (push) To get updates from the source repo, we need to add a second remote repo - yes, git can do this! We simply run this command in our working directory and check our remotes again to verify the connection.\n# add a new remote repo connection  git remote add upstream https://github.com/panr/hugo-theme-hello-friend.git  git remote --verbose origin https://github.com/aormsby/F-hugo-theme-hello-friend.git (fetch) origin https://github.com/aormsby/F-hugo-theme-hello-friend.git (push) upstream https://github.com/panr/hugo-theme-hello-friend.git (fetch) upstream https://github.com/panr/hugo-theme-hello-friend.git (push) Ta-da! Our local theme repo is now linked to both our forked repo and the source repo, which we called upstream. (This is a conventional label, but any name you choose is fine.) At this point, our setup already supports getting updates from the source, but the process is a little different than before.\nNormally, when we’re updating directly from a single remote repo, all we need to do is pull the data to our local directory so that the local matches the remote. We’ll still do that here, but we explicitly pull data from the upstream repo we added. We’ll also have to make an additional push to our forked repo - origin - to update it with the new code. Here’s how that works compared to the previous example.\n Left: simple update / Right: updating with a fork\n  Assuming you’re still on your master branch, here are the modified commands needed to pull and push the updates.\n# optional: fetch any updates to view changes before merging  git fetch upstream master  git status [status output here] # pull updates and merge them automatically  git pull upstream master # push source updates to forked repo  git push origin master With no local changes to our theme, the commands run smoothly with no errors - and we want to keep it that way! Simple is good, and an update process that doesn’t result in merge conflicts is always nice. But how do we manage to avoid conflicts if we want to customize the theme? Simple - don’t do your work on master.\nBranching, Customizing, and Merging Updates Although you technically could make theme customizations on the master branch, this increases the chances of having to resolve merge conflicts every time you try to pull an update. It’s fine if that’s how you want to work, but I highly recommend avoiding it. In my experience, it’s often best to keep master sparkly clean and do your dirty work on a different branch.\nFor example, I do my theme in a separate branch that is always kept in parallel with master. I’ve named it working, as it’s the branch that I work in. (Not exactly clever, I know.) Since it has all of my theme customizations, it’s also the branch that I use when I build my site. Every so often, I switch back over to master, go through our update process, and then explicitly merge any new theme updates from master into working so that I have all the latest features in my working branch. Visually, it’s kind of like this.\n  This is just one possible theme customization workflow, but we can benefit from a setup like this. For example –\n Our workspace is separate from our update environment. Getting theme updates will always be a painless process, and we have more control over merging when the time comes. Commit histories are clearer. Histories are much easier to read if source updates and custom work don’t get tangled up, and this can be super helpful when performing more advanced git actions on a branch. All the data is on our forked repo. The customizations and the pulled updates all live on our fork, which means we have full control of the data. We can test on master before merging. If we’re unsure of how a new feature will display on our site, we can run a build using the master code. It’s a nice clean test bed before performing a merge.  The drawbacks are much the same as I mentioned in the last post with the addition that now we’d have at least one more working branch to manage. However, I’ve found this parallel branch workflow quite nice after getting more familiar with it. Perhaps you will, too.\nHere are the commands we can use to get our working branch up and running. (You can choose a better name if you’d like.)\n# create a new branch and switch to it  git branch working  git checkout working We make some changes, commit our work, and push to our forked repo (see these commands for help). Time passes… and we want to get some updates on master.\n# switch to master branch  git checkout master # quick update  git pull upstream master  git push origin master Finally, we switch back to working and merge in the updates from master.\n# switch to working  git checkout working # merge master into current branch (working)  git merge master I won’t get into resolving a merge here, so let’s cross our fingers and hope there are no conflicts to deal with.\n something to look forward to :)\n  So yes - customizing your theme with this kind of workflow does take a bit of setup, and there are a few extra steps and things to keep track of to manage our code well. However, using git submodules and a parallel branch workflow do give us more leverage over our codebase, and I think that makes the extra work worthwhile. I’ve been using this workflow with my site for some time, and I don’t think I’d change anything about it.\nThat said, there are a number of other methods that people use for managing their themes, and it’s worth exploring them to see what fits your needs best. I recently read a post about managing your themes as Hugo modules by Nick Gracilla that I found quite interesting, and I think it’s worth checking out if you’re looking for an alternate way of doing things.\nNext Steps  Better Deploy - I’m still working on a better site deploy script! It’s looking good so far, but it’s not quite ready. Automatic Builds - This would still be great to have, so if I get around to it I’ll be sure to share my work.  Until next time! ~\n","wordCount":"1907","inLanguage":"en","image":"https://www.adamormsby.com/posts/000/hugo-themes-making-modifications/cover.jpg","datePublished":"2020-05-19T18:30:00-05:00","dateModified":"2020-05-19T18:30:00-05:00","author":{"@type":"Person","name":"Adam Ormsby"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.adamormsby.com/posts/000/hugo-themes-making-modifications/"},"publisher":{"@type":"Organization","name":"Adam Ormsby","logo":{"@type":"ImageObject","url":"https://www.adamormsby.com/site-img/favicon.png"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://www.adamormsby.com/ accesskey=h title="Adam Ormsby (Alt + H)">Adam Ormsby</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://www.adamormsby.com/ title=Posts>
<span>Posts</span>
</a>
</li>
<li>
<a href=https://www.adamormsby.com/projects title=Projects>
<span>Projects</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
Hugo Themes - Making Modifications while Keeping the Source Up-To-Date
</h1>
<div class=post-meta><span title="2020-05-19 18:30:00 -0500 -0500">May 19, 2020</span>&nbsp;·&nbsp;Adam Ormsby
</div>
</header>
<figure class=entry-cover><a href=https://www.adamormsby.com/posts/000/hugo-themes-making-modifications/cover.jpg target=_blank rel="noopener noreferrer">
<img loading=lazy srcset="https://www.adamormsby.com/posts/000/hugo-themes-making-modifications/cover_hu9bf38f272480083d8c74b439e18513cf_37755_360x0_resize_q75_box.jpg 360w ,https://www.adamormsby.com/posts/000/hugo-themes-making-modifications/cover_hu9bf38f272480083d8c74b439e18513cf_37755_480x0_resize_q75_box.jpg 480w ,https://www.adamormsby.com/posts/000/hugo-themes-making-modifications/cover_hu9bf38f272480083d8c74b439e18513cf_37755_720x0_resize_q75_box.jpg 720w ,https://www.adamormsby.com/posts/000/hugo-themes-making-modifications/cover.jpg 800w" sizes="(min-width: 768px) 720px, 100vw" src=https://www.adamormsby.com/posts/000/hugo-themes-making-modifications/cover.jpg alt="Cover photo for Hugo Themes - Making Modifications while Keeping the Source Up-To-Date" width=800 height=200></a>
</figure><div class=toc>
<details>
<summary accesskey=c title="(Alt + C)">
<span class=details>Table of Contents</span>
</summary>
<div class=inner><ul>
<li>
<a href=#overview aria-label=Overview>Overview</a></li>
<li>
<a href=#just-the-updates-please aria-label="Just the Updates, Please">Just the Updates, Please</a></li>
<li>
<a href=#updates-and-theme-customization---a-parallel-branch-workflow aria-label="Updates and Theme Customization - A Parallel Branch Workflow">Updates and Theme Customization - A Parallel Branch Workflow</a><ul>
<li>
<a href=#add-a-remote-repo aria-label="Add a Remote Repo">Add a Remote Repo</a></li>
<li>
<a href=#branching-customizing-and-merging-updates aria-label="Branching, Customizing, and Merging Updates">Branching, Customizing, and Merging Updates</a></li></ul>
</li>
<li>
<a href=#next-steps aria-label="Next Steps">Next Steps</a>
</li>
</ul>
</div>
</details>
</div>
<div class=post-content><p><em>This is a continuation of a previous post - <a href=https://www.adamormsby.com/posts/000/how-to-set-up-a-hugo-site-on-github-pages-with-submodules/>How to Set Up a Hugo Site on Github Pages - with Git Submodules!</a> I will reference some things we did there, so be sure to check it out if you&rsquo;re confused about something.</em></p>
<h2 id=overview>Overview<a hidden class=anchor aria-hidden=true href=#overview>#</a></h2>
<p>In today&rsquo;s post, I want to take a look at how we can keep our Hugo themes up-to-date. &lsquo;But my theme works fine!&rsquo; you say. &lsquo;Why would I ever need to update it?&rsquo; Well, when you download or clone a Hugo theme from its hosted git repository, you&rsquo;re getting its latest version <em>at that point in time.</em> So even if the theme&rsquo;s creator pushes updates to the code - with fixes, new features, and outside pull requests - you&rsquo;ll still be stuck using the version you downloaded before. While this is fine in some cases, many of us want the newest updates so we can take advantage of a stronger, improved theme.</p>
<p>The key to this process is using git submodules to track and pull updates to a theme with just a few quick commands. If you followed my previous tutorial on <a href=https://www.adamormsby.com/posts/000/how-to-set-up-a-hugo-site-on-github-pages-with-submodules/>adding a theme to your Hugo site as a git submodule</a>, you already have a functional Hugo site with a (forked) theme included. Starting there, let&rsquo;s see how to connect our theme to its remote source repo, which git commands we need to update it, and even how to safely make our own custom changes to the theme while keeping it in line with the source.</p>
<h2 id=just-the-updates-please>Just the Updates, Please<a hidden class=anchor aria-hidden=true href=#just-the-updates-please>#</a></h2>
<p>If we don&rsquo;t intend to customize a theme at all, we can keep our workflow super simple. All we need to do is add the theme repo into our project as a submodule and periodically run a few git commands to check for updates. For the moment, let&rsquo;s pretend we haven&rsquo;t forked the theme repo and see what it would be like to clone the source directly. We&rsquo;ll see an example with our fork in the next section.</p>
<p>Here&rsquo;s a quick refresher command for adding a submodule to our project.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>&gt; git submodule add https://github.com/panr/hugo-theme-hello-friend.git themes/hello-friend
</code></pre></div><blockquote>
<p>You might be thinking you can simply run <code>git clone</code> instead of adding the theme as a submodule, but our site is already set up as a git repo so that doesn&rsquo;t work here. Git doesn&rsquo;t like having <code>.git</code> files in a subdirectory without a <code>.gitmodules</code> component in the root. For more on that, see <a href=https://wespeter.com/posts/avoiding-git-problems-when-installing-a-theme-to-hugo/>this &lsquo;simple dev&rsquo; post.</a></p>
</blockquote>
<p>In the example above, we added our submodule by pulling the theme&rsquo;s source repo directly into our project. With the <code>git remote</code> command, we can easily verify that it&rsquo;s connected to the correct remote repo.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>&gt; cd themes/hello-friend
&gt; git remote --verbose
origin  https://github.com/panr/hugo-theme-hello-friend.git <span style=color:#f92672>(</span>fetch<span style=color:#f92672>)</span>
origin  https://github.com/panr/hugo-theme-hello-friend.git <span style=color:#f92672>(</span>push<span style=color:#f92672>)</span>
</code></pre></div><figure class=align-center><a href=img/simple-update.jpg>
<img loading=lazy src=img/simple-update.jpg#center alt="one-way update directly from theme source"> </a>
</figure>
<p>And there it is! With this setup, all we need to do is pull updates straight from the source. From the theme&rsquo;s directory, we run the following terminal commands.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># optional: fetch any updates to view changes before merging</span>
&gt; git fetch origin
&gt; git status
<span style=color:#f92672>[</span>status output here<span style=color:#f92672>]</span>

<span style=color:#75715e># pull updates and merge them automatically</span>
&gt; git pull
</code></pre></div><p>Since we&rsquo;re not making any theme changes in this workflow, we shouldn&rsquo;t expect any merging issues during the <code>git pull</code>. We don&rsquo;t really <em>need</em> to fetch or check the status of the repo, but it&rsquo;s always nice to see incoming changes before we bring them in.</p>
<p>And that&rsquo;s it! Getting updates every so often is no problem if we don&rsquo;t intend to make our own customizations to a theme. But hey - customization is where the fun <em>really</em> begins.</p>
<h2 id=updates-and-theme-customization---a-parallel-branch-workflow>Updates and Theme Customization - A Parallel Branch Workflow<a hidden class=anchor aria-hidden=true href=#updates-and-theme-customization---a-parallel-branch-workflow>#</a></h2>
<p>Here&rsquo;s the scenario - We want to add a Hugo theme, make custom changes, and still to get updates from the theme&rsquo;s original source. The method used above doesn&rsquo;t work here for a few reasons:</p>
<ol>
<li><strong>We can&rsquo;t push our custom changes to the theme&rsquo;s source repo</strong>. We simply don&rsquo;t have those permissions on the repo. Our local changes will not be safely stored anywhere, and any pulled updates may not be easily mergeable.</li>
<li><strong>Incoming updates may require merges.</strong> If we&rsquo;ve modified some of the theme files that are being updated in the source, then a simple <code>git pull</code> will not be enough to deal with the resulting conflicts.</li>
</ol>
<p>Thankfully, a more advanced git workflow would help deal with these issues. Remember <a href=https://www.adamormsby.com/posts/000/how-to-set-up-a-hugo-site-on-github-pages-with-submodules/#add-a-theme-to-our-site>how we set up a forked theme repo</a> in the last post? Now we get to take advantage of it. Crucially, the forked repo is <em>ours</em>, so we have full write access to it and don&rsquo;t need to worry about repo permissions. We can do whatever we want.</p>
<h3 id=add-a-remote-repo>Add a Remote Repo<a hidden class=anchor aria-hidden=true href=#add-a-remote-repo>#</a></h3>
<p>However, our fork doesn&rsquo;t automatically receive source updates either! Here, an additional step is needed to link our fork back to the source repo. Earlier, in the direct update workflow, we used the <code>git remote</code> command to verify that we had the correct remote repo connections. Running it in our forked theme directory, we see only the fork as our remote.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># my forked repo URLs as an example</span>
&gt; git remote --verbose
origin  https://github.com/aormsby/F-hugo-theme-hello-friend.git <span style=color:#f92672>(</span>fetch<span style=color:#f92672>)</span>
origin  https://github.com/aormsby/F-hugo-theme-hello-friend.git <span style=color:#f92672>(</span>push<span style=color:#f92672>)</span>
</code></pre></div><p>To get updates from the source repo, we need to add a <em>second</em> remote repo - yes, git can do this! We simply run this command in our working directory and check our remotes again to verify the connection.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># add a new remote repo connection</span>
&gt; git remote add upstream https://github.com/panr/hugo-theme-hello-friend.git

&gt; git remote --verbose
origin  https://github.com/aormsby/F-hugo-theme-hello-friend.git <span style=color:#f92672>(</span>fetch<span style=color:#f92672>)</span>
origin  https://github.com/aormsby/F-hugo-theme-hello-friend.git <span style=color:#f92672>(</span>push<span style=color:#f92672>)</span>
upstream   https://github.com/panr/hugo-theme-hello-friend.git <span style=color:#f92672>(</span>fetch<span style=color:#f92672>)</span>
upstream   https://github.com/panr/hugo-theme-hello-friend.git <span style=color:#f92672>(</span>push<span style=color:#f92672>)</span>
</code></pre></div><p>Ta-da! Our local theme repo is now linked to both our forked repo <em>and</em> the source repo, which we called <code>upstream</code>. (This is a conventional label, but any name you choose is fine.) At this point, our setup already supports getting updates from the source, but the process is a little different than before.</p>
<p>Normally, when we&rsquo;re updating directly from a single remote repo, all we need to do is <code>pull</code> the data to our local directory so that the local matches the remote. We&rsquo;ll still do that here, but we explicitly pull data from the <code>upstream</code> repo we added. We&rsquo;ll also have to make an additional <code>push</code> to our forked repo - <code>origin</code> - to update it with the new code. Here&rsquo;s how that works compared to the previous example.</p>
<figure class=align-center><a href=img/forked-update.jpg>
<img loading=lazy src=img/forked-update.jpg#center alt="comparison of update methods"> </a><figcaption>
<p>Left: simple update / Right: updating with a fork</p>
</figcaption>
</figure>
<p>Assuming you&rsquo;re still on your <code>master</code> branch, here are the modified commands needed to pull and push the updates.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># optional: fetch any updates to view changes before merging</span>
&gt; git fetch upstream master
&gt; git status
<span style=color:#f92672>[</span>status output here<span style=color:#f92672>]</span>

<span style=color:#75715e># pull updates and merge them automatically</span>
&gt; git pull upstream master

<span style=color:#75715e># push source updates to forked repo</span>
&gt; git push origin master
</code></pre></div><p>With no local changes to our theme, the commands run smoothly with no errors - and we want to keep it that way! Simple is good, and an update process that doesn&rsquo;t result in merge conflicts is always nice. But how do we manage to avoid conflicts if we want to customize the theme? Simple - don&rsquo;t do your work on <code>master</code>.</p>
<h3 id=branching-customizing-and-merging-updates>Branching, Customizing, and Merging Updates<a hidden class=anchor aria-hidden=true href=#branching-customizing-and-merging-updates>#</a></h3>
<p>Although you technically <em>could</em> make theme customizations on the <code>master</code> branch, this increases the chances of having to resolve merge conflicts every time you try to pull an update. It&rsquo;s fine if that&rsquo;s how you want to work, but I <em>highly</em> recommend avoiding it. In my experience, it&rsquo;s often best to keep <code>master</code> sparkly clean and do your dirty work on a different branch.</p>
<p>For example, I do my theme in a separate branch that is always kept in parallel with <code>master</code>. I&rsquo;ve named it <code>working</code>, as it&rsquo;s the branch that I <em>work</em> in. (Not exactly clever, I know.) Since it has all of my theme customizations, it&rsquo;s also the branch that I use when I build my site. Every so often, I switch back over to <code>master</code>, go through our update process, and then explicitly merge any new theme updates from <code>master</code> into <code>working</code> so that I have all the latest features in my working branch. Visually, it&rsquo;s kind of like this.</p>
<figure class=align-center><a href=img/parallel-branches.jpg>
<img loading=lazy src=img/parallel-branches.jpg#center alt="parallel branch system with updates merged from master"> </a>
</figure>
<p>This is just one possible theme customization workflow, but we can benefit from a setup like this. For example &ndash;</p>
<ul>
<li><strong>Our workspace is separate from our update environment.</strong> Getting theme updates will always be a painless process, and we have more control over merging when the time comes.</li>
<li><strong>Commit histories are clearer.</strong> Histories are much easier to read if source updates and custom work don&rsquo;t get tangled up, and this can be super helpful when performing more advanced git actions on a branch.</li>
<li><strong>All the data is on our forked repo.</strong> The customizations <em>and</em> the pulled updates all live on our fork, which means we have full control of the data.</li>
<li><strong>We can test on <code>master</code> before merging.</strong> If we&rsquo;re unsure of how a new feature will display on our site, we can run a build using the <code>master</code> code. It&rsquo;s a nice clean test bed before performing a merge.</li>
</ul>
<p>The drawbacks are much the same as I mentioned in the <a href=https://www.adamormsby.com/posts/000/how-to-set-up-a-hugo-site-on-github-pages-with-submodules/#some-drawbacks>last post</a> with the addition that now we&rsquo;d have at least one more working branch to manage. However, I&rsquo;ve found this parallel branch workflow quite nice after getting more familiar with it. Perhaps you will, too.</p>
<p>Here are the commands we can use to get our <code>working</code> branch up and running. (You can choose a better name if you&rsquo;d like.)</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># create a new branch and switch to it</span>
&gt; git branch working
&gt; git checkout working
</code></pre></div><p>We make some changes, commit our work, and push to our forked repo (<a href=https://www.adamormsby.com/posts/000/how-to-set-up-a-hugo-site-on-github-pages-with-submodules/#test-site-and-deploy>see these commands for help</a>). Time passes&mldr; and we want to get some updates on <code>master</code>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># switch to master branch</span>
&gt; git checkout master

<span style=color:#75715e># quick update</span>
&gt; git pull upstream master
&gt; git push origin master
</code></pre></div><p>Finally, we switch back to <code>working</code> and merge in the updates from <code>master</code>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># switch to working</span>
&gt; git checkout working

<span style=color:#75715e># merge master into current branch (working)</span>
&gt; git merge master
</code></pre></div><p>I won&rsquo;t get into resolving a merge here, so let&rsquo;s cross our fingers and hope there are no conflicts to deal with.</p>
<figure class=align-center><a href=img/git-merge-conflict.jpg>
<img loading=lazy src=img/git-merge-conflict.jpg#center alt="git merge conflict comic"> </a><figcaption>
<p>something to look forward to :)</p>
</figcaption>
</figure>
<p>So yes - customizing your theme with this kind of workflow does take a bit of setup, and there are a few extra steps and things to keep track of to manage our code well. However, using git submodules and a parallel branch workflow do give us more leverage over our codebase, and I think that makes the extra work worthwhile. I&rsquo;ve been using this workflow with my site for some time, and I don&rsquo;t think I&rsquo;d change anything about it.</p>
<p>That said, there are a number of other methods that people use for managing their themes, and it&rsquo;s worth exploring them to see what fits your needs best. I recently read a post about <a href=https://www.hugofordevelopers.com/articles/master-hugo-modules-managing-themes-as-modules/>managing your themes as Hugo modules by Nick Gracilla</a> that I found quite interesting, and I think it&rsquo;s worth checking out if you&rsquo;re looking for an alternate way of doing things.</p>
<h2 id=next-steps>Next Steps<a hidden class=anchor aria-hidden=true href=#next-steps>#</a></h2>
<ul>
<li><a href=https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/><strong>Better Deploy</strong></a> - I&rsquo;m still working on a better site deploy script! It&rsquo;s looking good so far, but it&rsquo;s not quite ready.</li>
<li><strong>Automatic Builds</strong> - This would still be great to have, so if I get around to it I&rsquo;ll be sure to share my work.</li>
</ul>
<p>Until next time! ~</p>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://www.adamormsby.com/tags/hugo/>hugo</a></li>
<li><a href=https://www.adamormsby.com/tags/git/>git</a></li>
<li><a href=https://www.adamormsby.com/tags/submodules/>submodules</a></li>
<li><a href=https://www.adamormsby.com/tags/jamstack/>jamstack</a></li>
</ul>
<nav class=paginav>
<a class=prev href=https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/>
<span class=title>« Prev Page</span>
<br>
<span>Build and Deploy: A Shell Script for Hugo Sites</span>
</a>
<a class=next href=https://www.adamormsby.com/posts/000/how-to-set-up-a-hugo-site-on-github-pages-with-submodules/>
<span class=title>Next Page »</span>
<br>
<span>How to Set Up a Hugo Site on Github Pages - with Git Submodules!</span>
</a>
</nav>
<div class=share-buttons>
<a target=_blank rel="noopener noreferrer" aria-label="share Hugo Themes - Making Modifications while Keeping the Source Up-To-Date on twitter" href="https://twitter.com/intent/tweet/?text=Hugo%20Themes%20-%20Making%20Modifications%20while%20Keeping%20the%20Source%20Up-To-Date&url=https%3a%2f%2fwww.adamormsby.com%2fposts%2f000%2fhugo-themes-making-modifications%2f&hashtags=hugo%2cgit%2csubmodules%2cjamstack"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Hugo Themes - Making Modifications while Keeping the Source Up-To-Date on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.adamormsby.com%2fposts%2f000%2fhugo-themes-making-modifications%2f&title=Hugo%20Themes%20-%20Making%20Modifications%20while%20Keeping%20the%20Source%20Up-To-Date&summary=Hugo%20Themes%20-%20Making%20Modifications%20while%20Keeping%20the%20Source%20Up-To-Date&source=https%3a%2f%2fwww.adamormsby.com%2fposts%2f000%2fhugo-themes-making-modifications%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Hugo Themes - Making Modifications while Keeping the Source Up-To-Date on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.adamormsby.com%2fposts%2f000%2fhugo-themes-making-modifications%2f&title=Hugo%20Themes%20-%20Making%20Modifications%20while%20Keeping%20the%20Source%20Up-To-Date"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Hugo Themes - Making Modifications while Keeping the Source Up-To-Date on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.adamormsby.com%2fposts%2f000%2fhugo-themes-making-modifications%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Hugo Themes - Making Modifications while Keeping the Source Up-To-Date on whatsapp" href="https://api.whatsapp.com/send?text=Hugo%20Themes%20-%20Making%20Modifications%20while%20Keeping%20the%20Source%20Up-To-Date%20-%20https%3a%2f%2fwww.adamormsby.com%2fposts%2f000%2fhugo-themes-making-modifications%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Hugo Themes - Making Modifications while Keeping the Source Up-To-Date on telegram" href="https://telegram.me/share/url?text=Hugo%20Themes%20-%20Making%20Modifications%20while%20Keeping%20the%20Source%20Up-To-Date&url=https%3a%2f%2fwww.adamormsby.com%2fposts%2f000%2fhugo-themes-making-modifications%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a>
</div>
</footer>
<div id=disqus_thread></div>
<script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//adamormsby.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</article>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://www.adamormsby.com/>Adam Ormsby</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>