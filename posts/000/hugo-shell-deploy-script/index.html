<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Build and Deploy: A Shell Script for Hugo Sites | Adam Ormsby</title><meta name=keywords content="Hugo,Github,submodules,git submodules,git,JAMStack,shell script,shell scripting,build and deploy,Hugo deploy,shell deploy,Github Pages"><meta name=description content="I don&rsquo;t know about you, but I love writing code that automates my work. I finally had the chance to do just that, and now I&rsquo;m the proud owner of a shell script that builds and deploys my Hugo site without any extra help from me - and it even works with my git submodule setup!"><meta name=author content="Adam Ormsby"><link rel=canonical href=https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/><link crossorigin=anonymous href=/assets/css/stylesheet.198f03125e4b4594e4693d1d2dad2db811b7cc1485a74be39b473c9ba02319cc.css integrity="sha256-GY8DEl5LRZTkaT0dLa0tuBG3zBSFp0vjm0c8m6AjGcw=" rel="preload stylesheet" as=style><link rel=icon href=https://www.adamormsby.com/site-img/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://www.adamormsby.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.adamormsby.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.adamormsby.com/apple-touch-icon.png><link rel=mask-icon href=https://www.adamormsby.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/"><meta property="og:site_name" content="Adam Ormsby"><meta property="og:title" content="Build and Deploy: A Shell Script for Hugo Sites"><meta property="og:description" content="I don’t know about you, but I love writing code that automates my work. I finally had the chance to do just that, and now I’m the proud owner of a shell script that builds and deploys my Hugo site without any extra help from me - and it even works with my git submodule setup!"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-06-21T23:30:00-05:00"><meta property="article:modified_time" content="2020-06-21T23:30:00-05:00"><meta property="article:tag" content="Hugo"><meta property="article:tag" content="Shell"><meta property="article:tag" content="Git"><meta property="article:tag" content="Submodules"><meta property="article:tag" content="Jamstack"><meta property="article:tag" content="Automation"><meta property="og:image" content="https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/cover.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/cover.jpg"><meta name=twitter:title content="Build and Deploy: A Shell Script for Hugo Sites"><meta name=twitter:description content="I don&rsquo;t know about you, but I love writing code that automates my work. I finally had the chance to do just that, and now I&rsquo;m the proud owner of a shell script that builds and deploys my Hugo site without any extra help from me - and it even works with my git submodule setup!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.adamormsby.com/posts/"},{"@type":"ListItem","position":2,"name":"Build and Deploy: A Shell Script for Hugo Sites","item":"https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Build and Deploy: A Shell Script for Hugo Sites","name":"Build and Deploy: A Shell Script for Hugo Sites","description":"I don\u0026rsquo;t know about you, but I love writing code that automates my work. I finally had the chance to do just that, and now I\u0026rsquo;m the proud owner of a shell script that builds and deploys my Hugo site without any extra help from me - and it even works with my git submodule setup!","keywords":["Hugo","Github","submodules","git submodules","git","JAMStack","shell script","shell scripting","build and deploy","Hugo deploy","shell deploy","Github Pages"],"articleBody":"Shell Scripts are Awesome I don’t know about you, but I love writing code that automates my work. I finally had the chance to do just that, and now I’m the proud owner of a shell script that builds and deploys my Hugo site without any extra help from me - and it even works with my git submodule setup!\nSo why do this? Well, when I began working with Hugo, I ran across a rudimentary deploy script in their documentation. Since I was still familiarizing myself with Hugo, it hadn’t occurred to me yet to automate the build process, and I immediately fell in love with the idea. However, I could see the script would need major improvements to do what I wanted, and I was completely new to shell.\nAt first, I struggled a bit with writing shell code (especially keeping things POSIX-compliant for portability!), but I stumbled upon the shellscript.sh tutorials and dove straight in. Thanks to those fantastic tutorials, I now have a sweet script to show off and perhaps even a newfound love for the shell. Apart from variable expansion struggles, it’s really quite elegant!\nI find my hugo-deploy.sh script does help keep builds following a standard process, but I think I’ll really see it shine when I get around to scheduling automated builds on a remote server. Exciting!\nfull script at end\nDeploy Script Functionality Be sure to place this script in your site’s root directory if you intend to use it. It’s built with my git submodule setup in mind. But I don’t think it would be too hard to modify it for something different.\nOrder of Operations From start to finish, here’s what the script does.\nUpdate the automatic build number (included in the git commit) Check for any user options (see below) Check if your active repo branches match your intended deploy branches Production and development branches can both be set Check if your local repo is up to date (no merge conflicts allowed!) (Optional) Clear out the site output folder before the Hugo build Run Hugo build command Git add, commit, and push to your specified remotes If any point in this process fails, the script exits with an error message detailing where the issue occurred. You’ll have to fix the issue before running the script again. Thankfully, most of the issues are quick fixes. If you have to do a merge, that’s on you!\n‘Settings’ Variables There are some ‘settings’ variables at the top of the script that you may need to modify to match your project.\n# BUILD/DEPLOY SETTINGS - edit as needed for your use case PUB_SUBMODULE=\"public\" # name of output folder where git submodule is located IGNORE_FILES=\". .. .git CNAME\" # space-delimited array of files to protect when 'fresh' option is used DEV_BRANCHES=\"dev dev\" # development branches to build on and push to, 1-root, 2-pubmodule PROD_BRANCHES=\"master master\" # production branches to build on and push to, 1-root, 2-pubmodule PUB_SUBMODULE holds the name of the folder where your public site submodule is located. The default output folder is public, which is where I have my submodule for the live site. If you’ve changed your output folder in the site config, you’ll need to update this to match it. The variable value is relative to the root directory, so if you’ve buried your output folder then set the path accordingly (e.g. my/public/build).\nIGNORE_FILES is used with the ‘fresh’ option (see below). It acts as an array of filenames that will not be deleted from the output folder if you select the ‘fresh’ option. It’s mostly to protect non-Hugo files.\nPROD_BRANCHES are the two production branches on which you intend to build and push your site data. The first branch name matches the preferred deploy branch for your site source data (in your root directory), and the second branch name matches the preferred deploy branch for your live site (the supposed submodule). These are the values the script uses to check your active branches in step 3 above. It’s a nice safety check.\nDEV_BRANCHES works the same way for a development build, which is enabled through the user options.\nUser Options Sometimes you need a little customization! That’s where my included script user options come into play. Hopefully these options can help you out a bit.\n# Script Options ./hugo-deploy.sh [-d|-f] [ -m \"COMMIT_MESSAGE\" ] [ -o \"HUGO_OPTIONS\" ] -d ‘dev’ =\u003e deploys to development branches set in DEV_BRANCHES list (default is PROD_BRANCHES) -f ‘fresh’ =\u003e deletes public directory data before rebuild (skips files in IGNORE_FILES list) -m ‘message’ =\u003e appends a custom commit message to the auto-build string, works exactly like git -m -o ‘options’ (for Hugo build) =\u003e includes Hugo build options during deploy process (default none), all hugo build options are valid -h =\u003e ‘help’ # Usage Example ./hugo-deploy.sh -d -f -m \"Deploying like a rockstar!\" -o \"--cleanDestinationDir\" Fun Stuff: If you rename the script file to hugo-deploy.command, you can run the script with a double click! I haven’t actually tested this, but I think it just runs without options. Try it out!\nDisclaimers / Seeking Shell Wisdom I ran into some issues with this script that I couldn’t totally avoid. Please be aware of them if you try out my script.\nVariable expansion - I’m aware that the variables I use in my various git commands are not double-quoted. (And just in case I didn’t notice, ShellCheck yelled about them in bright colors.) However, adding quotes or modifying the expansion caused the commands to be incorrectly formatted and resulted in failure. They work as they are now, but I’m curious to know if there’s a way to improve this. I’d love to get advice from experienced shell coders.\nLimited Testing - I work on Mac OS, so I know this script works on that system - at least on my machine! I have no idea about Windows or Linux. If you try it out, please let me know!\nThe Full Script View on Github\n","wordCount":"999","inLanguage":"en","image":"https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/cover.jpg","datePublished":"2020-06-21T23:30:00-05:00","dateModified":"2020-06-21T23:30:00-05:00","author":{"@type":"Person","name":"Adam Ormsby"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/"},"publisher":{"@type":"Organization","name":"Adam Ormsby","logo":{"@type":"ImageObject","url":"https://www.adamormsby.com/site-img/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.adamormsby.com/ accesskey=h title="Adam Ormsby (Alt + H)">Adam Ormsby</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.adamormsby.com/ title=Posts><span>Posts</span></a></li><li><a href=https://linkedin.com/in/adamormsby title=LinkedIn><span>LinkedIn</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://github.com/aromsby title=GitHub><span>GitHub</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Build and Deploy: A Shell Script for Hugo Sites</h1><div class=post-meta><span title='2020-06-21 23:30:00 -0500 -0500'>Jun 21, 2020</span></div></header><figure class=entry-cover><a href=https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/cover.jpg target=_blank rel="noopener noreferrer"><img loading=eager srcset='https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/cover_hu_a55f81da65c36bd4.jpg 360w,https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/cover_hu_8e7a2cca0cffd791.jpg 480w,https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/cover_hu_dde72b85f9f6c03f.jpg 720w,https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/cover_hu_f00d943235e7da28.jpg 1080w,https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/cover.jpg 1200w' src=https://www.adamormsby.com/posts/000/hugo-shell-deploy-script/cover.jpg sizes="(min-width: 768px) 720px, 100vw" width=1200 height=503 alt="Cover photo for Build and Deploy: A Shell Script for Hugo Sites"></a></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#shell-scripts-are-awesome aria-label="Shell Scripts are Awesome">Shell Scripts are Awesome</a></li><li><a href=#deploy-script-functionality aria-label="Deploy Script Functionality">Deploy Script Functionality</a><ul><li><a href=#order-of-operations aria-label="Order of Operations">Order of Operations</a></li></ul></li><li><a href=#settings-variables aria-label="&lsquo;Settings&rsquo; Variables">&lsquo;Settings&rsquo; Variables</a></li><li><a href=#user-options aria-label="User Options">User Options</a></li><li><a href=#disclaimers--seeking-shell-wisdom aria-label="Disclaimers / Seeking Shell Wisdom">Disclaimers / Seeking Shell Wisdom</a></li><li><a href=#the-full-script aria-label="The Full Script">The Full Script</a></li></ul></div></details></div><div class=post-content><h2 id=shell-scripts-are-awesome>Shell Scripts are Awesome<a hidden class=anchor aria-hidden=true href=#shell-scripts-are-awesome>#</a></h2><p>I don&rsquo;t know about you, but I <em>love</em> writing code that automates my work. I finally had the chance to do just that, and now I&rsquo;m the proud owner of a shell script that builds and deploys my Hugo site without any extra help from me - and it even works with my <a href=https://www.adamormsby.com/posts/000/how-to-set-up-a-hugo-site-on-github-pages-with-submodules/>git submodule setup</a>!</p><p>So why do this? Well, when I began working with Hugo, I ran across a <a href=https://gohugo.io/hosting-and-deployment/hosting-on-github/#put-it-into-a-script>rudimentary deploy script</a> in their documentation. Since I was still familiarizing myself with Hugo, it hadn&rsquo;t occurred to me yet to automate the build process, and I immediately fell in love with the idea. However, I could see the script would need major improvements to do what I wanted, and I was completely new to shell.</p><p>At first, I struggled a bit with writing shell code (especially keeping things POSIX-compliant for portability!), but I stumbled upon the <a href=https://www.shellscript.sh/>shellscript.sh</a> tutorials and dove straight in. Thanks to those <em>fantastic</em> tutorials, I now have a sweet script to show off and perhaps even a newfound love for the shell. Apart from variable expansion struggles, it&rsquo;s really quite elegant!</p><p>I find my <code>hugo-deploy.sh</code> script does help keep builds following a standard process, but I think I&rsquo;ll really see it shine when I get around to scheduling automated builds on a remote server. Exciting!</p><p><a href=#the-full-script>full script at end</a></p><h2 id=deploy-script-functionality>Deploy Script Functionality<a hidden class=anchor aria-hidden=true href=#deploy-script-functionality>#</a></h2><blockquote><p>Be sure to place this script in your <strong>site&rsquo;s root directory</strong> if you intend to use it. It&rsquo;s built with my git submodule setup in mind. But I don&rsquo;t think it would be too hard to modify it for something different.</p></blockquote><h3 id=order-of-operations>Order of Operations<a hidden class=anchor aria-hidden=true href=#order-of-operations>#</a></h3><p>From start to finish, here&rsquo;s what the script does.</p><ol><li>Update the automatic build number (included in the git commit)</li><li>Check for any user options (see below)</li><li>Check if your active repo branches match your intended deploy branches<ul><li>Production and development branches can both be set</li></ul></li><li>Check if your local repo is up to date (no merge conflicts allowed!)</li><li>(Optional) Clear out the site output folder before the Hugo build</li><li>Run Hugo build command</li><li>Git add, commit, and push to your specified remotes</li></ol><p>If any point in this process fails, the script exits with an error message detailing where the issue occurred. You&rsquo;ll have to fix the issue before running the script again. Thankfully, most of the issues are quick fixes. If you have to do a merge, that&rsquo;s on you!</p><h2 id=settings-variables>&lsquo;Settings&rsquo; Variables<a hidden class=anchor aria-hidden=true href=#settings-variables>#</a></h2><p>There are some &lsquo;settings&rsquo; variables at the top of the script that you may need to modify to match your project.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># BUILD/DEPLOY SETTINGS - edit as needed for your use case</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>PUB_SUBMODULE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;public&#34;</span>         <span style=color:#75715e># name of output folder where git submodule is located</span>
</span></span><span style=display:flex><span>IGNORE_FILES<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;. .. .git CNAME&#34;</span> <span style=color:#75715e># space-delimited array of files to protect when &#39;fresh&#39; option is used</span>
</span></span><span style=display:flex><span>DEV_BRANCHES<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;dev dev&#34;</span>         <span style=color:#75715e># development branches to build on and push to, 1-root, 2-pubmodule</span>
</span></span><span style=display:flex><span>PROD_BRANCHES<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;master master&#34;</span>  <span style=color:#75715e># production branches to build on and push to, 1-root, 2-pubmodule</span>
</span></span></code></pre></div><p><code>PUB_SUBMODULE</code> holds the name of the folder where your public site submodule is located. The default output folder is <code>public</code>, which is where I have my submodule for the live site. If you&rsquo;ve changed your output folder in the site config, you&rsquo;ll need to update this to match it. The variable value is relative to the root directory, so if you&rsquo;ve buried your output folder then set the path accordingly (e.g. <code>my/public/build</code>).</p><p><code>IGNORE_FILES</code> is used with the &lsquo;fresh&rsquo; option (see below). It acts as an array of filenames that will <em>not</em> be deleted from the output folder if you select the &lsquo;fresh&rsquo; option. It&rsquo;s mostly to protect non-Hugo files.</p><p><code>PROD_BRANCHES</code> are the two production branches on which you intend to build and push your site data. The first branch name matches the preferred deploy branch for your <strong>site source data</strong> (in your root directory), and the second branch name matches the preferred deploy branch for <strong>your live site</strong> (the supposed submodule). These are the values the script uses to check your active branches in step 3 above. It&rsquo;s a nice safety check.</p><p><code>DEV_BRANCHES</code> works the same way for a development build, which is enabled through the user options.</p><h2 id=user-options>User Options<a hidden class=anchor aria-hidden=true href=#user-options>#</a></h2><p>Sometimes you need a little customization! That&rsquo;s where my included script user options come into play. Hopefully these options can help you out a bit.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># Script Options</span>
</span></span><span style=display:flex><span>./hugo-deploy.sh <span style=color:#f92672>[</span>-d|-f<span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -m <span style=color:#e6db74>&#34;COMMIT_MESSAGE&#34;</span> <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -o <span style=color:#e6db74>&#34;HUGO_OPTIONS&#34;</span> <span style=color:#f92672>]</span>
</span></span></code></pre></div><ul><li><strong>-d</strong>
&lsquo;dev&rsquo; => deploys to development branches set in DEV_BRANCHES list (default is PROD_BRANCHES)</li><li><strong>-f</strong>
&lsquo;fresh&rsquo; => deletes public directory data before rebuild (skips files in IGNORE_FILES list)</li><li><strong>-m</strong>
&lsquo;message&rsquo; => appends a custom commit message to the auto-build string, works exactly like git -m</li><li><strong>-o</strong>
&lsquo;options&rsquo; (for Hugo build) => includes Hugo build options during deploy process (default none), all <code>hugo build</code> options are valid</li><li><strong>-h</strong> => &lsquo;help&rsquo;</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># Usage Example</span>
</span></span><span style=display:flex><span>./hugo-deploy.sh -d -f -m <span style=color:#e6db74>&#34;Deploying like a rockstar!&#34;</span> -o <span style=color:#e6db74>&#34;--cleanDestinationDir&#34;</span>
</span></span></code></pre></div><p><strong>Fun Stuff:</strong> If you rename the script file to <code>hugo-deploy.command</code>, you can run the script with a double click! I haven&rsquo;t actually tested this, but I think it just runs without options. Try it out!</p><h2 id=disclaimers--seeking-shell-wisdom>Disclaimers / Seeking Shell Wisdom<a hidden class=anchor aria-hidden=true href=#disclaimers--seeking-shell-wisdom>#</a></h2><p>I ran into some issues with this script that I couldn&rsquo;t totally avoid. Please be aware of them if you try out my script.</p><ul><li><p><strong>Variable expansion</strong> - I&rsquo;m aware that the variables I use in my various git commands are not double-quoted. (And just in case I didn&rsquo;t notice, <a href=https://www.shellcheck.net/>ShellCheck</a> yelled about them in bright colors.) However, adding quotes or modifying the expansion caused the commands to be incorrectly formatted and resulted in failure. They work as they are now, but I&rsquo;m curious to know if there&rsquo;s a way to improve this. I&rsquo;d love to get advice from experienced shell coders.</p></li><li><p><strong>Limited Testing</strong> - I work on Mac OS, so I <em>know</em> this script works on that system - at least on my machine! I have no idea about Windows or Linux. If you try it out, please let me know!</p></li></ul><h2 id=the-full-script>The Full Script<a hidden class=anchor aria-hidden=true href=#the-full-script>#</a></h2><p><a href=https://gist.github.com/aormsby/fac42fa04f8afa2157109b85684edc0c#file-hugo-deploy-sh>View on Github</a></p><script src=https://gist.github.com/aormsby/fac42fa04f8afa2157109b85684edc0c.js></script></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.adamormsby.com/tags/hugo/>Hugo</a></li><li><a href=https://www.adamormsby.com/tags/shell/>Shell</a></li><li><a href=https://www.adamormsby.com/tags/git/>Git</a></li><li><a href=https://www.adamormsby.com/tags/submodules/>Submodules</a></li><li><a href=https://www.adamormsby.com/tags/jamstack/>Jamstack</a></li><li><a href=https://www.adamormsby.com/tags/automation/>Automation</a></li></ul><nav class=paginav><a class=prev href=https://www.adamormsby.com/posts/000/fork-sync-with-upstream/><span class=title>« Prev</span><br><span>Github Action: Fork Sync With Upstream</span>
</a><a class=next href=https://www.adamormsby.com/posts/000/hugo-themes-making-modifications/><span class=title>Next »</span><br><span>Hugo Themes - Making Modifications while Keeping the Source Up-To-Date</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://www.adamormsby.com/>Adam Ormsby</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script data-goatcounter=https://aoappdev.goatcounter.com/count async src=//gc.zgo.at/count.js></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>